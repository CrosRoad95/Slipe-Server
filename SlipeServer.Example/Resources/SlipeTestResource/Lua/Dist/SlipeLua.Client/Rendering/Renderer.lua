-- Generated by CSharp.lua Compiler
local System = System
local SlipeLuaMtaDefinitions = SlipeLua.MtaDefinitions
local SystemNumerics = System.Numerics
local SlipeLuaClientRendering
System.import(function (out)
  SlipeLuaClientRendering = SlipeLua.Client.Rendering
end)
System.namespace("SlipeLua.Client.Rendering", function (namespace)
  --/ <summary>
  --/ Singleton responsible for rendering
  --/ </summary>
  namespace.class("Renderer", function (namespace)
    local status, getFpsLimit, setFpsLimit, screenSize, getScreenSize, getBlendMode, setBlendMode, setTestMode, 
    getStatus, SetRenderTarget, RevertRenderTargetToScreen, SetAspectRatioAdjustmentEnabled, WorldFromScreenPosition, ScreenFromWorldPosition, addOnRender, removeOnRender, 
    addOnHudRender, removeOnHudRender, class, static
    static = function (this)
      screenSize = System.default(SystemNumerics.Vector2)
    end
    getFpsLimit = function ()
      return SlipeLuaMtaDefinitions.MtaShared.GetFPSLimit()
    end
    setFpsLimit = function (value)
      SlipeLuaMtaDefinitions.MtaShared.SetFPSLimit(value)
    end
    getScreenSize = function ()
      if SystemNumerics.Vector2.op_Equality(screenSize, SystemNumerics.Vector2.getZero()) then
        local size = SlipeLuaMtaDefinitions.MtaClient.GuiGetScreenSize()
        screenSize = SystemNumerics.Vector2(size[1], size[2])
      end
      return screenSize:__clone__()
    end
    getBlendMode = function ()
      return System.cast(System.Int32, System.Enum.Parse(System.typeof(SlipeLuaClientRendering.BlendMode), SlipeLuaMtaDefinitions.MtaClient.DxGetBlendMode(), true))
    end
    setBlendMode = function (value)
      SlipeLuaMtaDefinitions.MtaClient.DxSetBlendMode(value:EnumToString(SlipeLuaClientRendering.BlendMode))
    end
    setTestMode = function (value)
      SlipeLuaMtaDefinitions.MtaClient.DxSetTestMode(value:EnumToString(SlipeLuaClientRendering.TestMode))
    end
    getStatus = function ()
      if status == nil then
        status = SlipeLuaClientRendering.Status()
      end
      return status
    end
    SetRenderTarget = function (target, clear)
      return SlipeLuaMtaDefinitions.MtaClient.DxSetRenderTarget(target:getMaterialElement(), clear)
    end
    RevertRenderTargetToScreen = function ()
      return SlipeLuaMtaDefinitions.MtaClient.DxSetRenderTarget()
    end
    SetAspectRatioAdjustmentEnabled = function (enabled, sourceRatio)
      return SlipeLuaMtaDefinitions.MtaClient.DxSetAspectRatioAdjustmentEnabled(enabled, sourceRatio)
    end
    WorldFromScreenPosition = function (screenPosition, depth)
      local result = SlipeLuaMtaDefinitions.MtaClient.GetWorldFromScreenPosition(screenPosition.X, screenPosition.Y, depth)
      return SystemNumerics.Vector3(result[1], result[2], result[3])
    end
    ScreenFromWorldPosition = function (worldPosition, edgeTolerance, relative)
      local result = SlipeLuaMtaDefinitions.MtaClient.GetScreenFromWorldPosition(worldPosition.X, worldPosition.Y, worldPosition.Z, edgeTolerance, relative)
      return SystemNumerics.Vector2(result[1], result[2])
    end
    addOnRender = function (value)
      class.OnRender = class.OnRender + value
    end
    removeOnRender = function (value)
      class.OnRender = class.OnRender - value
    end
    addOnHudRender = function (value)
      class.OnHudRender = class.OnHudRender + value
    end
    removeOnHudRender = function (value)
      class.OnHudRender = class.OnHudRender - value
    end
    class = {
      getFpsLimit = getFpsLimit,
      setFpsLimit = setFpsLimit,
      getScreenSize = getScreenSize,
      getBlendMode = getBlendMode,
      setBlendMode = setBlendMode,
      setTestMode = setTestMode,
      getStatus = getStatus,
      SetRenderTarget = SetRenderTarget,
      RevertRenderTargetToScreen = RevertRenderTargetToScreen,
      SetAspectRatioAdjustmentEnabled = SetAspectRatioAdjustmentEnabled,
      WorldFromScreenPosition = WorldFromScreenPosition,
      ScreenFromWorldPosition = ScreenFromWorldPosition,
      addOnRender = addOnRender,
      removeOnRender = removeOnRender,
      addOnHudRender = addOnHudRender,
      removeOnHudRender = removeOnHudRender,
      static = static,
      __metadata__ = function (out)
        return {
          fields = {
            { "screenSize", 0x9, System.Numerics.Vector2 },
            { "status", 0x9, out.SlipeLua.Client.Rendering.Status }
          },
          properties = {
            { "BlendMode", 0x10E, System.Int32, getBlendMode, setBlendMode },
            { "FpsLimit", 0x10E, System.Int32, getFpsLimit, setFpsLimit },
            { "ScreenSize", 0x20E, System.Numerics.Vector2, getScreenSize },
            { "Status", 0x20E, out.SlipeLua.Client.Rendering.Status, getStatus },
            { "TestMode", 0x30E, System.Int32, setTestMode }
          },
          methods = {
            { "RevertRenderTargetToScreen", 0x8E, RevertRenderTargetToScreen, System.Boolean },
            { "ScreenFromWorldPosition", 0x38E, ScreenFromWorldPosition, System.Numerics.Vector3, System.Single, System.Boolean, System.Numerics.Vector2 },
            { "SetAspectRatioAdjustmentEnabled", 0x28E, SetAspectRatioAdjustmentEnabled, System.Boolean, System.Single, System.Boolean },
            { "SetRenderTarget", 0x28E, SetRenderTarget, out.SlipeLua.Client.Rendering.RenderTarget, System.Boolean, System.Boolean },
            { "WorldFromScreenPosition", 0x28E, WorldFromScreenPosition, System.Numerics.Vector2, System.Single, System.Numerics.Vector3 }
          },
          class = { 0xE }
        }
      end
    }
    return class
  end)
end)
