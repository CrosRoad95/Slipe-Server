-- Generated by CSharp.lua Compiler
local System = System
local SlipeLuaMtaDefinitions = SlipeLua.MtaDefinitions
local SystemNumerics = System.Numerics
local SlipeLuaClientDx
local SlipeLuaClientRendering
local SlipeLuaClientSightLines
System.import(function (out)
  SlipeLuaClientDx = SlipeLua.Client.Dx
  SlipeLuaClientRendering = SlipeLua.Client.Rendering
  SlipeLuaClientSightLines = SlipeLua.Client.SightLines
end)
System.namespace("SlipeLua.Client.SightLines", function (namespace)
  --/ <summary>
  --/ Represents a line that can do raytracing operations
  --/ </summary>
  namespace.class("SightLine", function (namespace)
    local getCheckBuildings, setCheckBuildings, getCheckVehicles, setCheckVehicles, getCheckPeds, setCheckPeds, getCheckWorldObjects, setCheckWorldObjects, 
    getSeeThroughStuff, setSeeThroughStuff, getIgnoreSomeObjectsForCamera, setIgnoreSomeObjectsForCamera, getShootThroughStuff, setShootThroughStuff, getIncludeWorldModelInformation, setIncludeWorldModelInformation, 
    getIncludeCarTyreHits, setIncludeCarTyreHits, getIgnoredElement, setIgnoredElement, getDebug, setDebug, getWaterCollisionPosition, getData, 
    getIsClear, DebugDraw, __ctor1__, __ctor2__
    __ctor1__ = function (this, startPos, endPos, checkBuildings, checkVehicles, checkPeds, checkWorldObjects, seeThroughStuff, ignoreSomeObjectsForCamera, shootThroughStuff, includeWorldModelInformation, includeCarTyreHits, ignoredElement)
      SlipeLuaClientDx.Dx3DLine.__ctor__[2](this, startPos:__clone__(), endPos:__clone__())
      this.CheckBuildings = checkBuildings
      this.CheckVehicles = checkVehicles
      this.CheckPeds = checkPeds
      this.CheckWorldObjects = checkWorldObjects
      this.SeeThroughStuff = seeThroughStuff
      this.IgnoreSomeObjectsForCamera = ignoreSomeObjectsForCamera
      this.ShootThroughStuff = shootThroughStuff
      this.IncludeWorldModelInformation = includeWorldModelInformation
      this.IncludeCarTyreHits = includeCarTyreHits
      this.IgnoredElement = ignoredElement
    end
    __ctor2__ = function (this, attachedTo, relativeEndPos, offset, checkBuildings, checkVehicles, checkPeds, checkWorldObjects, seeThroughStuff, ignoreSomeObjectsForCamera, shootThroughStuff, includeWorldModelInformation, includeCarTyreHits, ignoredElement)
      SlipeLuaClientDx.Dx3DLine.__ctor__[3](this, attachedTo, relativeEndPos:__clone__(), offset:__clone__())
      this.CheckBuildings = checkBuildings
      this.CheckVehicles = checkVehicles
      this.CheckPeds = checkPeds
      this.CheckWorldObjects = checkWorldObjects
      this.SeeThroughStuff = seeThroughStuff
      this.IgnoreSomeObjectsForCamera = ignoreSomeObjectsForCamera
      this.ShootThroughStuff = shootThroughStuff
      this.IncludeWorldModelInformation = includeWorldModelInformation
      this.IncludeCarTyreHits = includeCarTyreHits
      this.IgnoredElement = ignoredElement
    end
    getCheckBuildings, setCheckBuildings = System.property("CheckBuildings")
    getCheckVehicles, setCheckVehicles = System.property("CheckVehicles")
    getCheckPeds, setCheckPeds = System.property("CheckPeds")
    getCheckWorldObjects, setCheckWorldObjects = System.property("CheckWorldObjects")
    getSeeThroughStuff, setSeeThroughStuff = System.property("SeeThroughStuff")
    getIgnoreSomeObjectsForCamera, setIgnoreSomeObjectsForCamera = System.property("IgnoreSomeObjectsForCamera")
    getShootThroughStuff, setShootThroughStuff = System.property("ShootThroughStuff")
    getIncludeWorldModelInformation, setIncludeWorldModelInformation = System.property("IncludeWorldModelInformation")
    getIncludeCarTyreHits, setIncludeCarTyreHits = System.property("IncludeCarTyreHits")
    getIgnoredElement, setIgnoredElement = System.property("IgnoredElement")
    getDebug = function (this)
      return this.Visible
    end
    setDebug = function (this, value)
      if value then
        SlipeLuaClientRendering.Renderer.addOnRender(System.fn(this, DebugDraw))
      else
        SlipeLuaClientRendering.Renderer.removeOnRender(System.fn(this, DebugDraw))
      end
      this.Visible = value
    end
    getWaterCollisionPosition = function (this)
      local result = SlipeLuaMtaDefinitions.MtaClient.TestLineAgainstWater(this:getStartPosition().X, this:getStartPosition().Y, this:getStartPosition().Z, this:getEndPosition().X, this:getEndPosition().Y, this:getEndPosition().Z)
      if not result[1] then
        System.throw(System.Exception("SightLine did not collide with water"))
      end

      return SystemNumerics.Vector3(result[2], result[3], result[4])
    end
    getData = function (this)
      local default = this.IgnoredElement
      if default ~= nil then
        default = default:getMTAElement()
      end
      return SlipeLuaClientSightLines.SightLineData(SlipeLuaMtaDefinitions.MtaClient.ProcessLineOfSight(this:getStartPosition().X, this:getStartPosition().Y, this:getStartPosition().Z, this:getEndPosition().X, this:getEndPosition().Y, this:getEndPosition().Z, this.CheckBuildings, this.CheckVehicles, this.CheckPeds, this.CheckWorldObjects, false, this.SeeThroughStuff, this.IgnoreSomeObjectsForCamera, this.ShootThroughStuff, default, this.IncludeWorldModelInformation, this.IncludeCarTyreHits))
    end
    getIsClear = function (this)
      local default = this.IgnoredElement
      if default ~= nil then
        default = default:getMTAElement()
      end
      return SlipeLuaMtaDefinitions.MtaClient.IsLineOfSightClear(this:getStartPosition().X, this:getStartPosition().Y, this:getStartPosition().Z, this:getEndPosition().X, this:getEndPosition().Y, this:getEndPosition().Z, this.CheckBuildings, this.CheckVehicles, this.CheckPeds, this.CheckWorldObjects, false, this.SeeThroughStuff, this.IgnoreSomeObjectsForCamera, default)
    end
    DebugDraw = function (this, source, eventArgs)
      this:Draw(source, eventArgs)
    end
    return {
      base = function (out)
        return {
          out.SlipeLua.Client.Dx.Dx3DLine
        }
      end,
      CheckBuildings = false,
      getCheckBuildings = getCheckBuildings,
      setCheckBuildings = setCheckBuildings,
      CheckVehicles = false,
      getCheckVehicles = getCheckVehicles,
      setCheckVehicles = setCheckVehicles,
      CheckPeds = false,
      getCheckPeds = getCheckPeds,
      setCheckPeds = setCheckPeds,
      CheckWorldObjects = false,
      getCheckWorldObjects = getCheckWorldObjects,
      setCheckWorldObjects = setCheckWorldObjects,
      SeeThroughStuff = false,
      getSeeThroughStuff = getSeeThroughStuff,
      setSeeThroughStuff = setSeeThroughStuff,
      IgnoreSomeObjectsForCamera = false,
      getIgnoreSomeObjectsForCamera = getIgnoreSomeObjectsForCamera,
      setIgnoreSomeObjectsForCamera = setIgnoreSomeObjectsForCamera,
      ShootThroughStuff = false,
      getShootThroughStuff = getShootThroughStuff,
      setShootThroughStuff = setShootThroughStuff,
      IncludeWorldModelInformation = false,
      getIncludeWorldModelInformation = getIncludeWorldModelInformation,
      setIncludeWorldModelInformation = setIncludeWorldModelInformation,
      IncludeCarTyreHits = false,
      getIncludeCarTyreHits = getIncludeCarTyreHits,
      setIncludeCarTyreHits = setIncludeCarTyreHits,
      getIgnoredElement = getIgnoredElement,
      setIgnoredElement = setIgnoredElement,
      getDebug = getDebug,
      setDebug = setDebug,
      getWaterCollisionPosition = getWaterCollisionPosition,
      getData = getData,
      getIsClear = getIsClear,
      __ctor__ = {
        __ctor1__,
        __ctor2__
      },
      __metadata__ = function (out)
        return {
          properties = {
            { "CheckBuildings", 0x106, System.Boolean, getCheckBuildings, setCheckBuildings },
            { "CheckPeds", 0x106, System.Boolean, getCheckPeds, setCheckPeds },
            { "CheckVehicles", 0x106, System.Boolean, getCheckVehicles, setCheckVehicles },
            { "CheckWorldObjects", 0x106, System.Boolean, getCheckWorldObjects, setCheckWorldObjects },
            { "Data", 0x206, out.SlipeLua.Client.SightLines.SightLineData, getData },
            { "Debug", 0x106, System.Boolean, getDebug, setDebug },
            { "IgnoreSomeObjectsForCamera", 0x106, System.Boolean, getIgnoreSomeObjectsForCamera, setIgnoreSomeObjectsForCamera },
            { "IgnoredElement", 0x106, out.SlipeLua.Shared.Elements.PhysicalElement, getIgnoredElement, setIgnoredElement },
            { "IncludeCarTyreHits", 0x106, System.Boolean, getIncludeCarTyreHits, setIncludeCarTyreHits },
            { "IncludeWorldModelInformation", 0x106, System.Boolean, getIncludeWorldModelInformation, setIncludeWorldModelInformation },
            { "IsClear", 0x206, System.Boolean, getIsClear },
            { "SeeThroughStuff", 0x106, System.Boolean, getSeeThroughStuff, setSeeThroughStuff },
            { "ShootThroughStuff", 0x106, System.Boolean, getShootThroughStuff, setShootThroughStuff },
            { "WaterCollisionPosition", 0x206, System.Numerics.Vector3, getWaterCollisionPosition }
          },
          methods = {
            { ".ctor", 0xC06, __ctor1__, System.Numerics.Vector3, System.Numerics.Vector3, System.Boolean, System.Boolean, System.Boolean, System.Boolean, System.Boolean, System.Boolean, System.Boolean, System.Boolean, System.Boolean, out.SlipeLua.Shared.Elements.PhysicalElement },
            { ".ctor", 0xD06, __ctor2__, out.SlipeLua.Shared.Elements.PhysicalElement, System.Numerics.Vector3, System.Numerics.Matrix4x4, System.Boolean, System.Boolean, System.Boolean, System.Boolean, System.Boolean, System.Boolean, System.Boolean, System.Boolean, System.Boolean, out.SlipeLua.Shared.Elements.PhysicalElement },
            { "DebugDraw", 0x201, DebugDraw, out.SlipeLua.Client.Elements.RootElement, out.SlipeLua.Client.Rendering.Events.OnRenderEventArgs }
          },
          class = { 0x6 }
        }
      end
    }
  end)
end)
