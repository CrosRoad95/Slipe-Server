-- Generated by CSharp.lua Compiler
local System = System
local SlipeLuaMtaDefinitions = SlipeLua.MtaDefinitions
local SlipeLuaSharedUtilities = SlipeLua.Shared.Utilities
local SystemNumerics = System.Numerics
local SlipeLuaClientHelpers
System.import(function (out)
  SlipeLuaClientHelpers = SlipeLua.Client.Helpers
end)
System.namespace("SlipeLua.Client.Dx", function (namespace)
  namespace.class("Dx3DLine", function (namespace)
    local getStartPosition, setStartPosition, getEndPosition, setEndPosition, getColor, setColor, getWidth, setWidth, 
    getPostGUI, setPostGUI, getVisible, setVisible, Draw, Update, internal, __ctor1__, 
    __ctor2__, __ctor3__
    internal = function (this)
      this.relativeEndPosition = System.default(SystemNumerics.Vector3)
      this.startPos = System.default(SystemNumerics.Vector3)
      this.endPos = System.default(SystemNumerics.Vector3)
    end
    __ctor1__ = function (this, startPos, endPos, color, width, postGUI)
      internal(this)
      SlipeLuaClientHelpers.LazyAttachableObject.__ctor__(this)
      setStartPosition(this, startPos:__clone__())
      setEndPosition(this, endPos:__clone__())
      this.relativeEndPosition = SystemNumerics.Vector3.op_Subtraction(endPos, startPos)
      this.Color = color
      this.Width = width
      this.PostGUI = postGUI
    end
    __ctor2__ = function (this, startPos, endPos)
      __ctor1__(this, startPos:__clone__(), endPos:__clone__(), SlipeLuaSharedUtilities.Color.getRed(), 1, false)
    end
    __ctor3__ = function (this, attachedTo, relativeEndPos, offset)
      __ctor2__(this, SystemNumerics.Vector3.getZero(), relativeEndPos:__clone__())
      this:AttachTo(attachedTo, offset:__clone__())
    end
    getStartPosition = function (this)
      this:Update()
      return this.startPos:__clone__()
    end
    setStartPosition = function (this, value)
      this.startPos = value:__clone__()
    end
    getEndPosition = function (this)
      this:Update()
      return this.endPos:__clone__()
    end
    setEndPosition = function (this, value)
      this.endPos = value:__clone__()
    end
    getColor, setColor = System.property("Color")
    getWidth, setWidth = System.property("Width")
    getPostGUI, setPostGUI = System.property("PostGUI")
    getVisible, setVisible = System.property("Visible")
    Draw = function (this, source, eventArgs)
      if this.Visible then
        return SlipeLuaMtaDefinitions.MtaClient.DxDrawLine3D(getStartPosition(this).X, getStartPosition(this).Y, getStartPosition(this).Z, getEndPosition(this).X, getEndPosition(this).Y, getEndPosition(this).Z, this.Color:getHex(), this.Width, this.PostGUI)
      end
      return false
    end
    Update = function (this, source, eventArgs)
      if this:getIsAttached() then
        this.startPos = SystemNumerics.Vector3.op_Addition(this:getToAttached():getPosition(), this.Offset:__clone__():getTranslation())
        this.endPos = SystemNumerics.Vector3.Transform(this.relativeEndPosition, SystemNumerics.Matrix4x4.op_Multiply(this:getToAttached():getMatrix(), this.Offset:__clone__()))
      end
    end
    return {
      base = function (out)
        return {
          out.SlipeLua.Client.Helpers.LazyAttachableObject,
          out.SlipeLua.Client.Dx.IDrawable
        }
      end,
      getStartPosition = getStartPosition,
      setStartPosition = setStartPosition,
      getEndPosition = getEndPosition,
      setEndPosition = setEndPosition,
      getColor = getColor,
      setColor = setColor,
      Width = 0,
      getWidth = getWidth,
      setWidth = setWidth,
      PostGUI = false,
      getPostGUI = getPostGUI,
      setPostGUI = setPostGUI,
      Visible = false,
      getVisible = getVisible,
      setVisible = setVisible,
      Draw = Draw,
      Update = Update,
      __ctor__ = {
        __ctor1__,
        __ctor2__,
        __ctor3__
      },
      __metadata__ = function (out)
        return {
          fields = {
            { "endPos", 0x3, System.Numerics.Vector3 },
            { "relativeEndPosition", 0x3, System.Numerics.Vector3 },
            { "startPos", 0x3, System.Numerics.Vector3 }
          },
          properties = {
            { "Color", 0x106, out.SlipeLua.Shared.Utilities.Color, getColor, setColor },
            { "EndPosition", 0x106, System.Numerics.Vector3, getEndPosition, setEndPosition },
            { "PostGUI", 0x106, System.Boolean, getPostGUI, setPostGUI },
            { "StartPosition", 0x106, System.Numerics.Vector3, getStartPosition, setStartPosition },
            { "Visible", 0x106, System.Boolean, getVisible, setVisible },
            { "Width", 0x106, System.Single, getWidth, setWidth }
          },
          methods = {
            { ".ctor", 0x506, __ctor1__, System.Numerics.Vector3, System.Numerics.Vector3, out.SlipeLua.Shared.Utilities.Color, System.Single, System.Boolean },
            { ".ctor", 0x206, __ctor2__, System.Numerics.Vector3, System.Numerics.Vector3 },
            { ".ctor", 0x306, __ctor3__, out.SlipeLua.Shared.Elements.PhysicalElement, System.Numerics.Vector3, System.Numerics.Matrix4x4 },
            { "Draw", 0x286, Draw, out.SlipeLua.Client.Elements.RootElement, out.SlipeLua.Client.Rendering.Events.OnRenderEventArgs, System.Boolean },
            { "Update", 0x203, Update, out.SlipeLua.Client.Elements.RootElement, out.SlipeLua.Client.Game.Events.OnUpdateEventArgs }
          },
          class = { 0x6 }
        }
      end
    }
  end)
end)
